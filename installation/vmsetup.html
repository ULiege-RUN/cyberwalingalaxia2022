<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Setting Up a VM on a recent Mac (with M1 or M2 chips)" href="macsetup.html" /><link rel="prev" title="Setup and Installation:" href="index.html" />

    <meta name="generator" content="sphinx-5.3.0, furo 2022.09.29"/>
        <title>Setting Up a VM on Linux/Windows and Mac (Intel chips) - Cyberwal-in-galaxia documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Cyberwal-in-galaxia  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Cyberwal-in-galaxia  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Setup and Installation:</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Setting Up a VM on Linux/Windows and Mac (Intel chips)</a></li>
<li class="toctree-l2"><a class="reference internal" href="macsetup.html">Setting Up a VM on a recent Mac (with M1 or M2 chips)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../part1/index.html">Part 1 – Basic Static Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part2/index.html">Part 2 – Basic Dynamic Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part3/index.html">Part 3 – Advanced Static Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part4/index.html">Part 4 – Advanced Dynamic Analysis</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="setting-up-a-vm-on-linux-windows-and-mac-intel-chips">
<h1>Setting Up a VM on Linux/Windows and Mac (Intel chips)<a class="headerlink" href="#setting-up-a-vm-on-linux-windows-and-mac-intel-chips" title="Permalink to this heading">#</a></h1>
<hr class="docutils" />
<p>You need to have a working virtual machine for the lab work therefore you must follow this tutorial carefully in order to have a functional setup before starting the lab work. We decided to choose Kali Linux (VM) for the lab.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Downloading the VM image may take some time. If you did not prepare your VM soon enough, you may skip these step and go <a class="reference internal" href="macsetup.html#target-connect-to-a-remote-vm"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="section" id="installing-virtualbox">
<h2>Installing VirtualBox<a class="headerlink" href="#installing-virtualbox" title="Permalink to this heading">#</a></h2>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>If you have a recent Macbook (with M1 or M2 chip), skip VirtualBox steps and go <a class="reference external" href="macsetup.html">here</a> instead.</p>
</div>
<p>First download the VirtualBox installer from <a class="reference external" href="https://www.virtualbox.org/">official web page</a> according to your OS. After finishing the download, launch the installer and follow the instruction of the installer.
VirtualBox is a virtualization software which allows you to create VMs that run OSes including Linux on your computer without removing your currently-using OSes such as Windows and macOS. In this course, we execute Linux on the VM made by VirtualBox.</p>
</div>
<div class="section" id="download-the-kali-vm-image-virtualbox">
<h2>Download the Kali VM image (VirtualBox)<a class="headerlink" href="#download-the-kali-vm-image-virtualbox" title="Permalink to this heading">#</a></h2>
<p>Then download the reference Kali Linux image from <a class="reference external" href="https://www.kali.org/get-kali/#kali-virtual-machines">this link</a>.
The image contains Kali Linux 64bits. The default user of the VM image is <code class="docutils literal notranslate"><span class="pre">kali</span></code>. The password for the user is also <code class="docutils literal notranslate"><span class="pre">kali</span></code>.</p>
</div>
<div class="section" id="launch-the-downloaded-vm-image-on-virtualbox">
<h2>Launch the downloaded VM image on VirtualBox<a class="headerlink" href="#launch-the-downloaded-vm-image-on-virtualbox" title="Permalink to this heading">#</a></h2>
<p>Note that the following screenshots use Ubuntu and not Kali Linux nevertheless the procedure is exactly the same.</p>
<ol class="arabic simple">
<li><p>Click on the “New” icon in the toolbar to launch the creation wizard and create a new VM.</p></li>
</ol>
<div class="figure align-default">
<img alt="../_images/1.png" src="../_images/1.png" />
</div>
<ol class="arabic simple" start="2">
<li><p>The first thing to do is to define the name, the type of virtual machine and the version you want to create. In our case, we chose to name the machine <code class="docutils literal notranslate"><span class="pre">kali</span></code>.</p></li>
</ol>
<div class="figure align-default">
<img alt="../_images/2.png" src="../_images/2.png" />
</div>
<ol class="arabic simple" start="3">
<li><p>Next, you need to define the amount of memory to be allocated to the virtual machine. The memory will be shared with the host system each time the virtual machine is started. You have to make sure not to go below the recommended minimum. In addition, you must also make sure to leave enough memory for the host operating system to continue running. We recommend a minimum of 2048MB but if you have enough memory on your system, you can slide the bar up to 4096MB.</p></li>
</ol>
<div class="figure align-default">
<img alt="../_images/3.png" src="../_images/3.png" />
</div>
<ol class="arabic simple" start="4">
<li><p>The next step is to use a virtual hard disk. Like shared memory, this is the storage space that will be allocated to the virtual machine. In this case, we will use the virtual hard disk you downloaded (<code class="docutils literal notranslate"><span class="pre">kali-linux-2022.4-virtualbox-amd64.vdi</span></code>). Click the “Use an existing virtual hard disk file” option. A new window will open. Click on the “Add” button then select the file <code class="docutils literal notranslate"><span class="pre">kali-linux-2022.4-virtualbox-amd64.vdi</span></code> by browsing your file explorer.</p></li>
</ol>
<div class="figure align-default">
<img alt="../_images/4.png" src="../_images/4.png" />
</div>
<ol class="arabic simple" start="5">
<li><p>Once you have selected the file in the file explorer, select it again in the modal window and click on the “Choose” button.</p></li>
</ol>
<div class="figure align-default">
<img alt="../_images/5.png" src="../_images/5.png" />
</div>
<ol class="arabic simple" start="6">
<li><p>The virtual machine has now been created. You can launch it by pressing the “Start” button located at the top of the toolbar.</p></li>
</ol>
<div class="figure align-default">
<img alt="../_images/6.png" src="../_images/6.png" />
</div>
<ol class="arabic simple" start="7">
<li><p>Once the initialization phase is complete, the console login screen appears. The password to log in is the same as the user name, i.e. <code class="docutils literal notranslate"><span class="pre">kali</span></code>.</p></li>
</ol>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>If your VM does not boot it may be related to the VT-x technology in most cases. To handle this issue, shutdown your (host) machine, open your BIOS settings, and enable Virtual Technology-x option. Finally restart your machine and test again.</p>
</div>
</div>
<div class="section" id="connect-to-the-vm-via-ssh">
<h2>Connect to the VM via ssh<a class="headerlink" href="#connect-to-the-vm-via-ssh" title="Permalink to this heading">#</a></h2>
<p>In order to connect to a VM using <a class="reference external" href="https://www.ssh.com/ssh/">ssh</a>, we need a special network setup in VirtualBox. Four of the network cards can be configured in the Network section of the Settings dialog in the graphical user interface of Oracle VM VirtualBox.</p>
<dl class="simple">
<dt>NAT: VirtualBox act as a normal process which tries to access the web when the VM initiates a connection (<strong>default</strong>).</dt><dd><ul class="simple">
<li><p>+Simple.</p></li>
<li><p>-Virtual machine not accessible from outside, not even from host.</p></li>
</ul>
</dd>
<dt>Bridge: VirtualBox plugs itself to the real card, and acts as if you used a switch.</dt><dd><ul class="simple">
<li><p>+Access from outside (from the world only if you get public IP address).</p></li>
<li><p>-Don’t work with Wifi (do not work on ULiège Wifi, but does work on ms8xx machines).</p></li>
</ul>
</dd>
<dt>Internal Network: Network between VMs, invisible to the host or the outside.</dt><dd><ul class="simple">
<li><p>+Secure communication between VMs.</p></li>
<li><p>-No access to or from host or outside (no internet).</p></li>
</ul>
</dd>
<dt>Host private network: Like internal network but creates a virtual interface on the host too.</dt><dd><ul class="simple">
<li><p>+Fine-tuning is possible (router on the host, …).</p></li>
<li><p>-Internet connection tricky to configure (create a router between virtual interface on host and the real. interface).</p></li>
</ul>
</dd>
</dl>
<p>In our case, we will use <strong>NAT</strong> Network (default option). In order to configure this mode, click on “Setting”, and choose “Network” tab in the settings menu.</p>
<div class="figure align-default">
<img alt="../_images/11.png" src="../_images/11.png" />
</div>
<p>Then click on “Advanced”, and choose “Port Forwarding”.</p>
<div class="figure align-default">
<img alt="../_images/21.png" src="../_images/21.png" />
</div>
<p>Finally, click on the green “+” button, and type the following information. This allows to connect to the remove virtual machine through localhost by using the <code class="docutils literal notranslate"><span class="pre">6543</span></code> port on the host machine (your computer).</p>
<div class="figure align-default">
<img alt="../_images/31.png" src="../_images/31.png" />
</div>
<p>Further details about the configuration:</p>
<ul class="simple">
<li><p>Name: <code class="docutils literal notranslate"><span class="pre">ssh</span></code> (anything would be fine but try to be consistent)</p></li>
<li><p>Protocol: <code class="docutils literal notranslate"><span class="pre">TCP</span></code></p></li>
<li><p>Host IP: <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code> (localhost)</p></li>
<li><p>Host Port: <code class="docutils literal notranslate"><span class="pre">6543</span></code> (mostly any number [&gt;1024] would be OK but remember it!)</p></li>
<li><p>Guest Port: <code class="docutils literal notranslate"><span class="pre">22</span></code> (ssh port)</p></li>
</ul>
</div>
<div class="section" id="connect-to-the-vm-by-ssh">
<h2>Connect to the VM by ssh<a class="headerlink" href="#connect-to-the-vm-by-ssh" title="Permalink to this heading">#</a></h2>
<p>Then open a terminal and enter the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh kali@127.0.0.1 -p 6543
</pre></div>
</div>
<p>The VM will ask your password. In that case, use the “kali” credentials. Note that if you are using Windows, you can use PowerShell or CommandPrompt or <a class="reference external" href="https://www.putty.org">putty</a>.</p>
</div>
<div class="section" id="update-package-information">
<h2>Update package information<a class="headerlink" href="#update-package-information" title="Permalink to this heading">#</a></h2>
<p>Finally, enter the following command on your terminal app after connecting to the VM by ssh:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo apt update
</pre></div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="macsetup.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Setting Up a VM on a recent Mac (with M1 or M2 chips)</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Setup and Installation:</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Université de Liège
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Setting Up a VM on Linux/Windows and Mac (Intel chips)</a><ul>
<li><a class="reference internal" href="#installing-virtualbox">Installing VirtualBox</a></li>
<li><a class="reference internal" href="#download-the-kali-vm-image-virtualbox">Download the Kali VM image (VirtualBox)</a></li>
<li><a class="reference internal" href="#launch-the-downloaded-vm-image-on-virtualbox">Launch the downloaded VM image on VirtualBox</a></li>
<li><a class="reference internal" href="#connect-to-the-vm-via-ssh">Connect to the VM via ssh</a></li>
<li><a class="reference internal" href="#connect-to-the-vm-by-ssh">Connect to the VM by ssh</a></li>
<li><a class="reference internal" href="#update-package-information">Update package information</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    </body>
</html>